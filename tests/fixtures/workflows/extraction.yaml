name: Extraction Test Workflow
description: Tests variable extraction from responses

steps:
  - name: Get data for extraction
    method: POST
    url: "{{ base_url }}/post"
    headers:
      Content-Type: application/json
    body: |
      {
        "user": {
          "id": 12345,
          "name": "Test User",
          "email": "test@example.com"
        },
        "items": ["a", "b", "c"]
      }
    extract:
      user_id: json.user.id
      user_name: json.user.name
    assert:
      status: 200

  - name: Use extracted values
    method: GET
    url: "{{ base_url }}/get"
    query:
      user_id: "{{ user_id }}"
      name: "{{ user_name }}"
    assert:
      status: 200
